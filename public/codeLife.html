<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Darkweb</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<style>
  body {
    padding-top: 20px;
  }
</style>

<body class="bg-black">


  <!-- Main container with sidebar, navbar and content -->
  <div class="min-h-screen bg-gray-900">



    <div id="navigation-container"></div>

  <div class="relative">


    <!-- Main content area -->
    <div class="mt-16">
      <div class="flex flex-col border shadow-sm w-full border-gray-700 bg-gray-800">
        <!-- Heading at the top -->

        <div class="flex flex-col md:flex-row">
          <!-- Image in the top left corner -->
          <img class="object-cover w-full md:w-2/5 md:h-auto" src="./storyImgs/coding-next-gen.jpeg" alt="screen alive">

          <!-- Text content that flows next to the image and continues underneath -->
          <div class="p-4 leading-normal">
            <h5 class="w-full mb-2 text-2xl font-bold tracking-tight text-white">The Reality Rewrite: How Java Reshapes
              Our Understanding</h5>

            <p class="font-normal text-gray-700 dark:text-gray-400" id="textContent">
              <!-- Your text will be loaded here via JavaScript -->
              Text will appear here after loading...
            </p>
          </div>
        </div>
      </div>

      <div id="comments-container"></div>

      <din id="footer-container"></din>
    </div>
  </div>

  <!-- contact drawer component -->
  <div id="drawer-contact"
    class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-gray-800"
    tabindex="-1" aria-labelledby="drawer-contact-label">
    <button type="button" onclick="document.getElementById('drawer-contact').classList.add('-translate-x-full')"
      class="text-gray-400 bg-transparent  rounded-lg text-sm w-8 h-8 absolute top-2.5 end-2.5 inline-flex items-center justify-center hover:bg-gray-600 hover:text-white">
      <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
      </svg>
      <span class="sr-only">Close menu</span>
    </button>
    <h5 id="drawer-label" class="inline-flex items-center mb-6 text-base font-semibold uppercase text-white"><svg
        class="w-4 h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
        viewBox="0 0 20 16">
        <button type="button" data-drawer-hide="drawer-contact" aria-controls="drawer-contact"
          class="text-gray-400 bg-transparent  rounded-lg text-sm w-8 h-8 absolute top-2.5 end-2.5 inline-flex items-center justify-center hover:bg-gray-600 hover:text-white">
          <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
          </svg>
          <span class="sr-only">Close menu</span>
        </button>
        <path d="m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z" />
        <path
          d="M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z" />
      </svg>Contact us</h5>

    <form class="mb-6">
      <div class="mb-6">
        <label for="email" class="block mb-2 text-sm font-medium text-white">Your email</label>
        <input type="email" id="email"
          class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
          placeholder="fakeEmail@DarkwebProject.com" required />
      </div>
      <div class="mb-6">
        <label for="subject" class="block mb-2 text-sm font-medium text-white">Subject</label>
        <input type="text" id="subject"
          class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
          placeholder="Let us know how we can help you" required />
      </div>
      <div class="mb-6">
        <label for="message" class="block mb-2 text-sm font-medium text-white">Your message</label>
        <textarea id="message" rows="4"
          class="block p-2.5 w-full text-sm rounded-lg border bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
          placeholder="Your message..."></textarea>
      </div>
      <button id='submitBtn' type="submit"
        class="text-white w-full focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mb-2 bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-blue-800 block">Send
        message</button>
    </form>
    <p class="mb-2 text-sm text-gray-400">
      <a href="contact.html" class="hover:underline">fakeInfo@DarkwebProject.com</a>
    </p>
    <p class="text-sm text-gray-400">
      <a href="contact.html" class="hover:underline">555-1337-43770</a>
    </p>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.js"></script>

  <script>
    document.getElementById('supportBtn').addEventListener('click', function () {
      alert('Thanks for the support! Feels better already =D');
    });
  </script>

  <script>
    document.getElementById('submitBtn').addEventListener('click', function () {
      alert('Nothing is sent, but its nice that you took the time!');
    });
  </script>

<!--Navigation Script-->
<script>
 fetch('./myObjects/navigation.html')
  .then(response => {
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    return response.text();
  })
  .then(html => {
    // Insert the HTML
    document.getElementById('navigation-container').innerHTML = html;
    
    // Handle scripts
    const tempDiv = document.createElement('div');
    tempDiv.innerHTML = html;
    const scripts = tempDiv.querySelectorAll('script');
    scripts.forEach(script => {
      const newScript = document.createElement('script');
      if (script.src) {
        newScript.src = script.src;
      } else {
        newScript.textContent = script.textContent;
      }
      document.body.appendChild(newScript);
    });
    
    // Re-initialize all Flowbite components
    if (window.flowbite) {
      if (typeof window.flowbite.initFlowbite === 'function') {
        // For Flowbite v2.x
        window.flowbite.initFlowbite();
      } else {
        // For Flowbite v1.x - initialize all component types
        if (window.flowbite.initDrawers) window.flowbite.initDrawers();
        if (window.flowbite.initDropdowns) window.flowbite.initDropdowns();
        if (window.flowbite.initCollapses) window.flowbite.initCollapses();
        // Add other component initializers as needed
      }
    }
    
    // Add manual event listeners for all interactive elements
    
    // 1. Handle drawer toggle buttons
    document.querySelectorAll('[data-drawer-toggle]').forEach(button => {
      const targetId = button.getAttribute('data-drawer-target');
      const target = document.getElementById(targetId);
      
      if (target) {
        button.addEventListener('click', () => {
          target.classList.toggle('-translate-x-full');
        });
      }
    });
    
    // 2. Handle drawer hide/close buttons
    document.querySelectorAll('[data-drawer-hide]').forEach(button => {
      const targetId = button.getAttribute('data-drawer-hide');
      const target = document.getElementById(targetId);
      
      if (target) {
        button.addEventListener('click', () => {
          target.classList.add('-translate-x-full');
        });
      }
    });
    
    // 3. Handle dropdown toggle buttons
    document.querySelectorAll('[data-dropdown-toggle]').forEach(button => {
      const targetId = button.getAttribute('data-dropdown-toggle');
      const target = document.getElementById(targetId);
      
      if (target) {
        button.addEventListener('click', () => {
          target.classList.toggle('hidden');
        });
      }
    });
    
    // 4. Handle collapse toggle buttons (for mobile menu)
    document.querySelectorAll('[data-collapse-toggle]').forEach(button => {
      const targetId = button.getAttribute('data-collapse-toggle');
      const target = document.getElementById(targetId);
      
      if (target) {
        button.addEventListener('click', () => {
          target.classList.toggle('hidden');
          
          // Toggle aria-expanded attribute for accessibility
          const expanded = button.getAttribute('aria-expanded') === 'true';
          button.setAttribute('aria-expanded', !expanded);
        });
      }
    });
    
    // Consider adding a small delay to ensure DOM is fully processed
    setTimeout(() => {
      if (window.flowbite && window.flowbite.initFlowbite) {
        window.flowbite.initFlowbite();
      }
    }, 100);
  })
  .catch(error => console.error('Navigation loading error:', error));
 </script>
 
  <script>
     document.addEventListener('DOMContentLoaded', function () {
       const toggleButton = document.querySelector('[data-drawer-toggle="default-sidebar"]');
       const sidebar = document.getElementById('default-sidebar');
 
       if (toggleButton && sidebar) {
         // Add click event listener
         toggleButton.addEventListener('click', function () {
           sidebar.classList.toggle('-translate-x-full');
         });
       }
     });
   </script>

  <!--Footer script-->
  <script>
    fetch('./myObjects/footer.html')
      .then(function (response) {
        return response.text();
      })
      .then(function (htmlString) {
        // Create a temporary container
        const tempDiv = document.createElement('div');
        // Set the HTML content
        tempDiv.innerHTML = htmlString;
        // Extract just the navigation element
        const navElement = tempDiv.querySelector('footer');
        // Insert the navigation into your container
        if (navElement) {
          document.getElementById('footer-container').innerHTML = navElement.outerHTML;
        } else {
          console.error('footer element not found in the loaded HTML');
        }
      })
      .catch(function (error) {
        console.error('Error loading navigation:', error);
      });
  </script>

  <!--Load text Script-->

  <script>
    async function loadTextContent() {
      try {
        const response = await fetch('./txtFiles/codeLife.txt');
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const textContent = await response.text();

        // Format headers (lines starting with ##)
        const formatted = textContent.replace(/^##\s+(.+)$/gm,
          '<h3 class="text-xl font-bold mt-6 mb-2">$1</h3>');

        // Split into paragraphs
        const paragraphs = formatted.split(/\n\n+/);

        // Create HTML content
        const contentContainer = document.getElementById('textContent');
        contentContainer.innerHTML = ''; // Clear loading message

        // Add each paragraph or header
        paragraphs.forEach(paragraph => {
          if (paragraph.trim()) {
            if (paragraph.startsWith('<h3')) {
              // It's already a header, insert directly
              contentContainer.innerHTML += paragraph;
            } else {
              // It's a paragraph
              const p = document.createElement('p');
              p.className = 'mb-4 font-normal text-gray-400';
              p.innerHTML = paragraph.replace(/\n/g, '<br>');
              contentContainer.appendChild(p);
            }
          }
        });
      } catch (error) {
        console.error('Error loading text:', error);
        document.getElementById('textContent').textContent = 'Failed to load text content.';
      }
    }

    window.addEventListener('DOMContentLoaded', loadTextContent);
  </script>


<!--Comments script-->
  <script>
    fetch('./myObjects/comments.html')
  .then(function(response) {
    return response.text();
  })
  .then(function(htmlString) {
    // Create a temporary container
    const tempDiv = document.createElement('div');
    
    // Set the HTML content
    tempDiv.innerHTML = htmlString;
    
    // Extract the form from the body
    const formElement = tempDiv.querySelector('form');
    
    // Insert the form into your container
    if (formElement) {
      document.getElementById('comments-container').innerHTML = formElement.outerHTML;
      
      // Extract scripts from the original HTML
      const scripts = tempDiv.querySelectorAll('script');
      
      // Create and append each script to execute it
      scripts.forEach(script => {
        const newScript = document.createElement('script');
        
        // Copy attributes if any (like src)
        Array.from(script.attributes).forEach(attr => {
          newScript.setAttribute(attr.name, attr.value);
        });
        
        // Copy the content for inline scripts
        if (script.innerHTML) {
          newScript.innerHTML = script.innerHTML;
        }
        
        // Add the script to the page to execute it
        document.body.appendChild(newScript);
      });
    } else {
      console.error('Form element not found in the loaded HTML');
    }
  })
  .catch(function(error) {
    console.error('Error loading comments:', error);
  });
  </script>

</body>

</html>